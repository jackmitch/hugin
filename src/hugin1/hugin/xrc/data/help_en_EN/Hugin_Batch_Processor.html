<!DOCTYPE html>
<html lang="en" dir="ltr" class="client-nojs">
<head>
<meta charset="UTF-8"/>
<title>Hugin Batch Processor - PanoTools.org Wiki</title>
<meta http-equiv="X-UA-Compatible" content="IE=EDGE"/>
<meta name="generator" content="MediaWiki 1.23.15"/>






<style media="screen" type="text/css" title="Screen style sheet"> @import url(manual.css); </style>

<style>a:lang(ar),a:lang(kk-arab),a:lang(mzn),a:lang(ps),a:lang(ur){text-decoration:none}
/* cache key: panotools_wiki:resourceloader:filter:minify-css:7:90730a7865ba4b50e0b837e1821ff0a3 */</style>



<!--[if lt IE 7]><style type="text/css">body{behavior:url("/skins/vector/csshover.min.htc")}</style><![endif]--></head>
<body class="mediawiki ltr sitedir-ltr ns-0 ns-subject page-Hugin_Batch_Processor skin-vector action-view vector-animateLayout">
		
		
		<div id="content" class="mw-body" role="main">
			<a id="top"></a>
			
						<h1 id="firstHeading" class="firstHeading" lang="en"><span dir="auto">Hugin Batch Processor</span></h1>
						<div id="bodyContent">
								<div id="siteSub">From PanoTools.org Wiki</div>
								
												
				<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><p>Batch Processor is a component of <a href="Hugin.html" title="Hugin">hugin</a> that provides functionality to stitch multiple projects in a batch queue. Its goal is to make stitching of multiple projects faster. The process of stitching multiple projects is simplified using a queue of projects. User can add/edit/delete projects in the queue.
The Batch Processor can also queue the creation of the final project. In this case it runs the same steps as in the <a href="Hugin_Assistant_tab.html" title="Hugin Assistant tab">Hugin Assistant tab</a>.
</p><p><b>Hugin Batch Processor</b> consists of a list of projects. Projects in the list are ordered in sequential order. By default, the list is reinstated every time you open the application. What is more, entire queue of projects can be saved and reopened later using buttons Clear Batch, Open Batch, Save Batch.
</p>
<div id="toc" class="toc"><div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="Hugin_Batch_Processor.html#Installation_on_Mac_OS_X"><span class="tocnumber">1</span> <span class="toctext">Installation on Mac OS X</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="Hugin_Batch_Processor.html#Usage"><span class="tocnumber">2</span> <span class="toctext">Usage</span></a></li>
<li class="toclevel-1 tocsection-3"><a href="Hugin_Batch_Processor.html#Flag_options"><span class="tocnumber">3</span> <span class="toctext">Flag options</span></a></li>
<li class="toclevel-1 tocsection-4"><a href="Hugin_Batch_Processor.html#Functions"><span class="tocnumber">4</span> <span class="toctext">Functions</span></a>
<ul>
<li class="toclevel-2 tocsection-5"><a href="Hugin_Batch_Processor.html#Queue_management"><span class="tocnumber">4.1</span> <span class="toctext">Queue management</span></a></li>
<li class="toclevel-2 tocsection-6"><a href="Hugin_Batch_Processor.html#Item_management"><span class="tocnumber">4.2</span> <span class="toctext">Item management</span></a></li>
<li class="toclevel-2 tocsection-7"><a href="Hugin_Batch_Processor.html#Executing_queue"><span class="tocnumber">4.3</span> <span class="toctext">Executing queue</span></a></li>
<li class="toclevel-2 tocsection-8"><a href="Hugin_Batch_Processor.html#Automation"><span class="tocnumber">4.4</span> <span class="toctext">Automation</span></a>
<ul>
<li class="toclevel-3 tocsection-9"><a href="Hugin_Batch_Processor.html#Existing_project_files"><span class="tocnumber">4.4.1</span> <span class="toctext">Existing project files</span></a></li>
<li class="toclevel-3 tocsection-10"><a href="Hugin_Batch_Processor.html#Image_sets_.28create_project_files.29"><span class="tocnumber">4.4.2</span> <span class="toctext">Image sets (create project files)</span></a></li>
</ul>
</li>
</ul>
</li>
<li class="toclevel-1 tocsection-11"><a href="Hugin_Batch_Processor.html#Command_line_switches"><span class="tocnumber">5</span> <span class="toctext">Command line switches</span></a></li>
</ul>
</div>

<h1><a name="Installation_on_Mac_OS_X"><span class="mw-headline">Installation on Mac OS X</span></a></h1>
<p>Versions before the 2011.2.0 series required you to separately download and install the BatchProcessor. You will find the 2011.0.0 and older versions at the <a rel="nofollow" class="external text" href="http://sourceforge.net/projects/hugin/files/hugin/">Sourceforge page</a> inside the folder for the latest version, e.g. <a rel="nofollow" class="external text" href="http://sourceforge.net/projects/hugin/files/hugin/hugin-2011.0/ptbatchergui-mac-2011.0.0.dmg/download">ptbatchergui-mac-2011.0.0.dmg</a>. Just copy the app into the same folder as hugin and run it.
The compressed disk image (DMGs) versions as of 2011.2.0 and newer contain Hugin, PTBatcherGui and calibrate_lens_gui all in one dmg.
</p>
<h1><a name="Usage"><span class="mw-headline">Usage</span></a></h1>
<p>Just create several project files (do everything and just skip the export step), load them in the batch processor and start the process. This way you can run several large projects unattended. The output file name will be the same as the name of the corresponding project file (xyz.pto -&gt; xyz.tif) and is saved in the same folder.
</p><p>At least on Mac OS X there are some minor issues to pay attention to (This should be fixed in 2011.1, rev. 43043d2742e4):
</p>
<ul>
<li> You should only add the project files you want to process by using the "add project" (see below) or the menu "File - Add Project". Be aware that you will not be able to delete or deactivate a single project from the list - you will have to clean up the whole list using the menu "File - Clean List".<br />If you want to process all projects inside a folder, just use the "folder search" (see below). 
</li>
<li> Some older entries in PTBatcherGUI's list view (those with status "File missing") may not be removable by clicking the 'minus' symbol or the "Remove complete" button.<br />To remove those just close PTBatcherGui, open it again and immediately select one of the missing pto files and start deleting them using the 'minus' symbol. As an alternative, use the button "Remove completed"  on the right side which will remove all completed projects in one go.
</li>
</ul>
<p><br />
Apart from this, all works fine.
</p>
<h1><a name="Flag_options"><span class="mw-headline">Flag options</span></a></h1>
<p>Batch process is also influenced by the following check boxes:
</p>
<ul>
<li> <b>parallel execution</b>: Execute stitching of projects in the list parallel rather than in sequential order. Check this only if you are certain your computer is up for the task of stitching multiple projects at the same time.
</li>
<li> <b>overwrite always</b>: Always(for each project) overwrite output filename if it exists. Otherwise, you will get a dialog box whether you want to overwrite files or not.
</li>
<li> <b>Shutdown when done</b>: Turn off computer when batch process ends.
</li>
<li> <b>Remove finished projects</b>: If checked successful finished projects will be automatic removed from the queue. Otherwise the items remains in the queue and the user is responsible for the queue management.
</li>
<li> <b>Automatic stitch after assistant</b>: If checked successful detected projects (projects in the assistant queue) will be added the stitching queue and will therefore automatically stitched.
</li>
</ul>
<h1><a name="Functions"><span class="mw-headline">Functions</span></a></h1>
<h2><a name="Queue_management"><span class="mw-headline">Queue management</span></a></h2>
<p>The management of the queue can done by the appropriate menu items or by the corresponding toolbar buttons.
</p>
<ul>
<li> Add project files to queue
</li>
<li> Remove project file from queue (you need to select the project file in the list)
</li>
<li> The complete queue list can be saved and loaded from disc (The current active list is automatically saved at the end. You don't need to save it explicitly.)
</li>
<li> The complete list can be cleared.
</li>
</ul>
<h2><a name="Item_management"><span class="mw-headline">Item management</span></a></h2>
<p>The single items in the queue can be modified by the buttons on the right side of the window
</p>
<ul>
<li> <b>Remove complete</b> will remove all items form the queue which were successfully finished.
</li>
<li> <b>Change prefix</b> will change the output prefix. This is only possible if the item is in the stitching queue. It does not work for items in the assistant queue.
</li>
<li> <b>Reset project</b>/<b>Reset all</b> resets the status of the selected project/all projects to default value. This allows to execute the stitching again.
</li>
<li> <b>Edit with Hugin</b> opens the selected in Hugin to modify it.
</li>
<li> The order of the items can be change with <b>Move project up</b> and <b>Move project down</b>
</li>
<li> You can also add an arbitrary command to the queue with <b>Add application</b>. 
</li>
</ul>
<h2><a name="Executing_queue"><span class="mw-headline">Executing queue</span></a></h2>
<p>The queue can be started, paused/resumed and stopped with the toolbar buttons.
You can also skip one project.
</p>
<h2><a name="Automation"><span class="mw-headline">Automation</span></a></h2>
<p>PTBatcherGUI provides some more features for automation. This can be accessed by File-&gt;Search directory for.
</p>
<h3><a name="Existing_project_files"><span class="mw-headline">Existing project files</span></a></h3>
<p>With File-&gt;Search directory for...-&gt;Projects you can search recursively in the given folder for (existing) project files and appends them to (stitching) queue.
</p>
<h3><a name="Image_sets_.28create_project_files.29"><span class="mw-headline">Image sets (create project files)</span></a></h3>
<p>First select a folder in which PTBatcherGui should search for image sets. After pressing start it will search for image files in the folder (and optionally its sub folders). It uses the information stored in the EXIF data to decide which images could belong to a an image set forming a panorama. This works only in one folder level, it does not match images in different folders. (The algorithm uses camera maker, camera model, focal length, image size and date/time for this decision.) 
</p><p>After the search has finished it shows a list of the found panoramas. With <b>Send selected panoramas to queue</b> the project files are created and sent to the assistant queue. You can deselect individual panoramas from this processing step by untick the panorama.
</p><p>The project files are named with the selected name scheme
</p>
<ul>
<li> PanoramaXX.pto: This will generate project files: panorama0.pto, panorama1.pto,...
</li>
<li> First file - last file.pto: The project files will by named by the first and last image of the panorama.
</li>
<li> Foldername.pto: In this case the project file is named like the containing folder.
</li>
<li> Template from preferences: This will use the template defined in the <a href="Hugin_Preferences.html" title="Hugin Preferences">preferences</a> of Hugin.
</li>
</ul>
<p>Existing project files will not be overwritten, instead it appends an increasing number.
</p><p>If the images are shot with auto bracketing it tries to generate the appropriate stacks. In this case check that your default control point generator setting is such that it works with stacks (check <a href="Hugin_Preferences.html#Control_Point_Detectors" title="Hugin Preferences">Preferences in Hugin</a> and <a href="Hugin_Parameters_for_Control_Point_Detectors_dialog.html" title="Hugin Parameters for Control Point Detectors dialog">control point detector parameters</a>).
</p><p>On the options tab you can fine-tune the algorithm:
</p>
<ul>
<li> <b>Minimum number of images</b>: This is the minimal number of images a sequence of consecutive images must have to be detected as panorama.
</li>
<li> <b>Maximum time difference</b>: The maximal time between 2 images to be detected as consecutive/related images.
</li>
<li> <b>Create links</b>: Select this option, if you shoot from a tripod. This will link the positions of all images of one stack. If you deselect this option, it will create the stacks but will not link the positions of the images (e.g. when shooting free hand).
</li>
<li> <b>Load distortion data</b>: Try to automatic load distortion data from lens database. Otherwise the distortion values are initialized to zero and will be calculated by the optimizer.
</li>
<li> <b>Load vignetting data</b>: Try to automatic load vignetting data from lens database. Otherwise the distortion values are initialized to zero and are calculated by the optimizer.
</li>
</ul>
<p>If you set the tickmark <b>Automatic stitch after assistant</b>, PTBatcherGui will first run the assistant on all found panoramas, thereby creating the complete project files, and then stitch all created projects.
</p>
<h1><a name="Command_line_switches"><span class="mw-headline">Command line switches</span></a></h1>
<p>To add a project to the (stitching) queue use
</p>
<pre>   PTBatcherGUI project.pto output_prefix
</pre>
<p>on Mac OS X use
</p>
<pre>   open PTBatcherGui.app --args project.pto output_prefix
</pre>
<p><br />
</p><p>You can also add several projects
</p>
<pre>   PTBatcherGUI project1.pto prefix1 project2.pto prefix2
</pre>
<p>on Mac OS X use
</p>
<pre>   open PTBatcherGui.app --args project1.pto prefix1 project2.pto prefix2
</pre>
<p><br />
The prefix is optionally. If you don't provide a prefix, the filename (without extension) of the project file is used as prefix.
</p><p><br />
You can also add a project to the assistant queue.
</p>
<pre>   PTBatcherGUI --assistant project.pto
</pre>
<p>and on Mac OS X
</p>
<pre>   open PTBatcherGui.app --args --assistant project.pto
</pre>
<p>Some of the above described options can be accessed also by command line switches:
</p>
<ul>
<li>  <code> /h, --help </code>           show this help message
</li>
<li>  <code> /b, --batch </code>          run batch immediately
</li>
<li>  <code> /p, --parallel </code>       run batch projects in parallel
</li>
<li>  <code> /d, --delete </code>         delete *.pto files after stitching
</li>
<li>  <code> /o, --overwrite </code>      overwrite previous files without asking
</li>
<li>  <code> /s, --shutdown </code>       shutdown computer after batch is complete
</li>
<li>  <code>/v, --verbose </code>        show verbose output when processing projects
</li>
</ul>
<p>Please keep in mind that only one instance of PTBatcherGUI can run at one time. Starting PTBatcherGUI a second time with command line switches will influence the already running instance and not start a second instance with own options.
</p>



</div>								<div class="printfooter">
				Retrieved from "http://wiki.panotools.org/index.php?title=Hugin_Batch_Processor&amp;oldid=15612<a class="external" href="http://wiki.panotools.org/index.php?title=Hugin_Batch_Processor&amp;oldid=15612">[*]</a>"				</div>
												</div></div></body></html>